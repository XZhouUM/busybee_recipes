#!/bin/bash
set -e  # stop if anything fails

echo "Running sort_recipes_by_cooking_time.py before push..."

python3 tools/sort_recipes_by_cooking_time.py

git add recipes/sorted_recipes_by_cooking_time.yaml

if git diff --cached --quiet; then
  echo "No changes to commit."
else
  git commit -m "Auto-update sorted recipes"
fi

echo "Recipe database is indexed. Continue with push..."
